language: rust
dist: trusty

rust:
  - 1.8.0

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y libboost-all-dev cmake

install:
    - rvm use 2.2
    - gem install construqt-ipaddress
    - gem install jeweler
    - nvm install 6

script:
    - rvm use 2.2
    - (cd ruby && rake test)
    - (cd rust && cargo build --release --verbose)
    - (cd rust && cargo test --release --verbose)
    - (cd js && npm install && npm test)
    - (cd cpp && cmake -DCMAKE_BUILD_TYPE=Release . && make)
    - (cd cpp && ctest --timeout 60)
